# 🍎 Apple 심사용 데모 계정 가이드

## 📋 개요
Apple App Store 심사팀이 앱의 모든 기능을 테스트할 수 있도록 데모 계정을 구현했습니다.

## 🎯 데모 계정 정보

### **로그인 정보**
- **휴대폰번호**: `010-1234-5678`
- **인증번호**: 아무 숫자나 입력 (예: `123456`)
- **SMS 인증**: 자동 우회됨

### **계정 특징**
- ✅ **온보딩 완료**: 모든 설정이 완료된 상태
- ✅ **프리미엄 활성화**: 모든 프리미엄 기능 사용 가능
- ✅ **커뮤니티 데이터**: 참여 모임 5개, 호스트 모임 1개
- ✅ **프로필 완성**: 모든 개인정보 설정 완료

## 🚀 구현된 기능

### **1. SMS 인증 우회**
- `010-1234-5678` 번호 입력 시 자동으로 데모 모드 활성화
- 실제 SMS 발송 없이 인증 완료
- 모든 인증번호 허용 (123456 등)

### **2. 자동 로그인**
- 데모 사용자로 자동 로그인
- Firebase Auth 우회 처리
- 완전한 사용자 데이터 제공

### **3. 완전한 앱 기능**
- 모든 화면 접근 가능
- 프리미엄 기능 사용 가능
- 커뮤니티 기능 테스트 가능
- 모임 생성/참여 가능

## 🔧 기술적 구현

### **수정된 파일들**
1. **`viewmodels/AuthViewModel.js`**
   - `sendPhoneVerification()`: 데모 번호 감지 시 SMS 우회
   - 가짜 confirmationResult 반환

2. **`services/firestoreService.js`**
   - `checkPhoneNumberAvailability()`: 데모 번호 항상 사용 가능
   - `checkPhoneNumberExists()`: 데모 번호 항상 존재

3. **`contexts/AuthContext.js`**
   - 데모 사용자 데이터 자동 생성
   - Firestore에 데모 데이터 저장

4. **`screens/LoginScreen.js`**
   - 데모 계정 안내 UI 추가
   - 시각적 피드백 제공

## 📱 Apple 심사팀 사용법

### **1단계: 앱 실행**
- 앱을 다운로드하고 실행

### **2단계: 로그인**
- "로그인" 버튼 클릭
- 휴대폰번호 입력: `010-1234-5678`
- 데모 계정 안내 메시지 확인

### **3단계: 인증**
- "로그인" 버튼 클릭
- 인증번호 입력: 아무 숫자나 (예: `123456`)
- 자동으로 로그인 완료

### **4단계: 앱 테스트**
- 모든 기능 자유롭게 테스트
- 프리미엄 기능 확인
- 커뮤니티 기능 테스트

## 🎯 테스트 가능한 기능들

### **기본 기능**
- ✅ 홈 화면
- ✅ 모임 생성/참여
- ✅ 커뮤니티 게시글
- ✅ 채팅 기능
- ✅ 프로필 관리

### **프리미엄 기능**
- ✅ 프리미엄 배지 표시
- ✅ 프리미엄 화면 접근
- ✅ 고급 필터링
- ✅ 우선 알림

### **고급 기능**
- ✅ 블랙리스트 관리
- ✅ 매너 점수 시스템
- ✅ 알림 설정
- ✅ 설정 화면

## 🔍 디버깅 정보

### **콘솔 로그**
데모 모드 활성화 시 다음 로그가 출력됩니다:
```
🎯 데모 모드: Apple 심사용 계정 감지
🎯 SMS 인증 우회 - 데모 계정으로 자동 로그인
🎯 데모 모드: 인증번호 확인 성공 (우회됨)
✅ 데모 사용자 데이터 저장 완료
```

### **Firestore 데이터**
데모 사용자 데이터가 자동으로 생성됩니다:
- **컬렉션**: `users`
- **문서 ID**: `demo-user-123456789`
- **데이터**: 완전한 사용자 프로필 + 프리미엄 정보

## ⚠️ 주의사항

### **보안**
- 데모 모드는 프로덕션 환경에서도 활성화됨
- 실제 사용자에게는 영향 없음 (특정 번호만 대상)
- Apple 심사 완료 후 제거 가능

### **데이터**
- 데모 데이터는 실제 사용자 데이터와 분리됨
- Firestore에 저장되지만 실제 서비스에 영향 없음
- 필요시 쉽게 삭제 가능

## 🗑️ 데모 모드 제거

Apple 심사 완료 후 데모 모드를 제거하려면:

### **1단계: 데모 데이터 삭제**
```bash
# 삭제 스크립트 실행
node scripts/deleteDemoUser.js
```

### **2단계: 코드에서 데모 모드 제거**
1. **AuthViewModel.js**에서 데모 모드 코드 제거
2. **FirestoreService.js**에서 데모 처리 코드 제거  
3. **AuthContext.js**에서 데모 사용자 처리 제거
4. **LoginScreen.js**에서 데모 안내 UI 제거

### **3단계: 삭제 스크립트 제거**
```bash
# 삭제 스크립트 파일 제거
rm scripts/deleteDemoUser.js
```

## 📞 지원

데모 계정 관련 문제가 있으면:
- 콘솔 로그 확인
- Firebase 연결 상태 확인
- 앱 재시작 후 재시도

---

**🎉 Apple 심사 성공을 기원합니다!**

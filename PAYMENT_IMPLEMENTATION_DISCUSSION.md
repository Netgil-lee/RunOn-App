# 💳 결제 로직 구현 논의사항

## 📋 논의 진행 상황

### ✅ 1. 무료 체험 기간 처리
**결정**: **A) 스토어의 무료 체험 기간 기능 사용**

**설정 방법**:
- **App Store Connect**: 구독 제품 편집 → "가격 및 가용성" → "무료 체험" → 1개월(30일) 선택
- **Google Play Console**: 구독 제품 편집 → "무료 체험 제공" 체크 → 30일 선택

**장점**:
- 스토어가 자동으로 무료 체험 기간 관리
- 앱 코드에서 별도 처리 불필요
- 사용자에게 명확한 무료 체험 안내 제공
- 취소 시 자동 처리

**구현 영향**:
- `react-native-iap`가 자동으로 무료 체험 정보 제공
- `purchase` 객체에 `isFreeTrial` 정보 포함
- 별도의 앱 내 무료 체험 로직 불필요

---

### ✅ 2. 사용자 인증 연동
**결정**: **A) `useAuth()` 훅으로 직접 접근**

**구현 방법**:
```javascript
import { useAuth } from '../contexts/AuthContext';

const PremiumScreen = ({ navigation }) => {
  const { user } = useAuth();
  
  // user.uid를 사용하여 결제 요청
  await paymentService.purchaseProduct(productId, user.uid);
}
```

**이유**:
- 다른 화면들(`HomeScreen`, `ProfileScreen`, `CommunityScreen` 등)과 일관된 패턴
- React 컨텍스트의 표준 사용 방식
- 코드가 간단하고 명확함
- 유지보수가 쉬움

**가정사항**:
- 모든 사용자는 로그인되어 있음 (로그인하지 않은 사용자는 없음)
- `user.uid`는 항상 사용 가능
- 별도의 로그인 체크 로직 불필요

---

### ✅ 3. 결제 플로우
**결정**: 제안대로 구현

**구현 방식**:
1. **확인 단계**: B) 확인 다이얼로그 추가
   - "정말 구독하시겠습니까?" 확인 메시지
   - 확인 후 결제 진행

2. **로딩 상태**: A) 버튼에 로딩 스피너 표시
   - 결제 진행 중 버튼에 ActivityIndicator 표시
   - 버튼 비활성화하여 중복 클릭 방지

3. **성공 처리**: B) 모달 닫기 + PremiumContext 업데이트 + 성공 메시지
   - 결제 성공 시 모달 닫기
   - `PremiumContext.updatePremiumStatus()` 호출
   - 성공 토스트 메시지 또는 Alert 표시

4. **실패/취소 처리**: A) 모달 유지 + 에러 메시지 표시
   - 결제 실패 또는 취소 시 모달 유지
   - 에러 메시지 표시 (Alert 또는 토스트)
   - 재시도 가능하도록 버튼 활성화

**구현 세부사항**:
- 결제 확인 다이얼로그: `Alert.alert()` 사용
- 로딩 상태: `useState`로 관리
- PremiumContext 업데이트: `updatePremiumStatus()` 함수 활용
- 에러 메시지: 에러 타입에 따라 적절한 메시지 표시

---

### ✅ 4. 에러 처리 및 사용자 피드백
**결정**: 사용자 요구사항 반영

**에러 유형별 처리**:

1. **사용자 취소** (`E_USER_CANCELLED`)
   - **처리**: B) 간단한 안내 메시지 표시
   - **메시지**: "결제가 취소되었습니다"
   - **동작**: 모달 유지, 사용자가 재시도 가능

2. **네트워크 오류** (`E_NETWORK_ERROR`)
   - **처리**: A) 에러 메시지 + 재시도 버튼 제공
   - **메시지**: "네트워크 연결을 확인해주세요"
   - **동작**: 모달 유지, 재시도 버튼 표시

3. **제품 없음** (`E_ITEM_UNAVAILABLE`)
   - **처리**: 발생하지 않음 (제품이 항상 존재)
   - **예방**: 제품 ID 검증 로직으로 사전 방지

4. **결제 성공**
   - **처리**: 모달 닫기 + Alert 성공 메시지
   - **메시지**: "러논 멤버스에 오신 걸 환영합니다"
   - **동작**: 
     - 모달 닫기
     - `PremiumContext.updatePremiumStatus()` 호출
     - Alert 표시

5. **기타 오류**
   - **처리**: 모달 닫기 + Alert 일반적인 에러 메시지
   - **메시지**: "결제 중 오류가 발생했습니다. 잠시 후 다시 시도해주세요."
   - **동작**: 모달 닫기, 사용자가 다시 시도 가능

**구현 세부사항**:
- 에러 메시지는 `Alert.alert()` 사용
- 성공 메시지도 `Alert.alert()` 사용
- 모달 닫기는 `handleCloseMainModal()` 함수 활용
- 재시도 버튼은 네트워크 오류 시에만 표시

---

### ✅ 5. 구독 상태 확인
**결정**: 시스템 분석 및 일반적인 모바일 앱 구독 관리 방식 참고

**구현 방식**:

1. **앱 실행 시 구독 상태 확인**
   - **결정**: A) 앱 시작 시 자동 확인 (현재 PremiumContext 구현 유지)
   - **구현**: `PremiumContext`의 `useEffect`에서 `checkPremiumStatus()` 자동 호출
   - **동작**: 사용자 로그인 시 자동으로 구독 상태 확인

2. **결제 완료 후 상태 업데이트**
   - **결정**: C) 둘 다 수행 (즉시 업데이트 + 서버 확인)
   - **구현**:
     - `PremiumContext.updatePremiumStatus()` 즉시 호출 (UI 반영)
     - `PremiumContext.checkPremiumStatus()` 재호출하여 서버에서 확인 (정확성 보장)

3. **구독 만료 처리**
   - **결정**: App Store에서 제공하는 `expiresDate`를 그대로 사용
   - **구현**:
     - `receiptValidationService.checkSubscriptionStatus()`가 영수증에서 `expiresDate` 추출
     - `paymentService.updateUserSubscription()`에서 `expiresDate`를 Firestore에 저장
     - `PremiumContext.hasPremiumAccess()`에서 만료 여부 확인 (현재 구현 유지)
   - **동작**: App Store에서 설정한 30일 무료 체험 + 구독 기간을 그대로 반영

4. **구독 취소/만료 확인 방법**
   - **결정**: 서버 영수증 검증 API 사용
   - **구현**:
     - Firebase Cloud Functions에 영수증 검증 엔드포인트 추가
     - 앱 실행 시 또는 주기적으로 서버 API 호출하여 스토어 상태 확인
     - 클라이언트에서 직접 App Store API 호출은 보안상 권장하지 않음
   - **이유**:
     - 보안: 공유 비밀번호를 클라이언트에 노출하지 않음
     - 정확성: 서버에서 스토어 API를 직접 호출하여 정확한 상태 확인
     - 일관성: 다른 앱들도 서버에서 영수증 검증 수행

5. **백그라운드 상태 업데이트**
   - **결정**: A) 포그라운드로 돌아올 때만 확인
   - **구현**:
     - 앱이 포그라운드로 전환될 때 `PremiumContext.checkPremiumStatus()` 호출
     - React Native의 `AppState` API 활용
   - **이유**:
     - 배터리 효율성: 백그라운드에서 주기적 확인은 배터리 소모 큼
     - 일반적인 방식: 대부분의 앱이 포그라운드 전환 시 확인

**구현 계획**:
1. Firebase Cloud Functions에 영수증 검증 엔드포인트 추가
2. 클라이언트에서 서버 API 호출하도록 변경
3. 앱 실행 시 및 포그라운드 전환 시 서버에서 구독 상태 확인

---

### ✅ 6. 테스트 환경
**결정**: 사용자 요구사항 반영

**테스트 환경 설정**:

1. **샌드박스 테스트 계정**
   - **상태**: 없음 (준비 필요)
   - **작업**: App Store Connect에서 샌드박스 테스트 계정 생성 필요
   - **생성 방법**: App Store Connect → 사용자 및 액세스 → 샌드박스 테스터 → 테스터 추가

2. **테스트용 제품 ID**
   - **결정**: A) 프로덕션 제품 ID와 동일하게 사용
   - **이유**: 샌드박스 환경에서 자동으로 테스트 제품으로 인식
   - **제품 ID**: 
     - `com.runon.app.premium.monthly`
     - `com.runon.app.premium.yearly`

3. **무료 체험 기간 테스트**
   - **결정**: 테스트용 1분으로 설정
   - **이유**: 개발 효율성 (30일 대기 불필요)
   - **방법**: App Store Connect에서 테스트용 무료 체험 기간 설정
   - **주의**: 프로덕션 배포 전 실제 30일로 변경 필요

4. **테스트 시나리오**
   - **결정**: 5가지 시나리오 모두 테스트 (우선순위 순서대로)
   - **우선순위**:
     1. ✅ **결제 성공 플로우** (가장 중요)
     2. ✅ **결제 실패 플로우**
     3. ✅ **구독 취소 플로우**
     4. ✅ **무료 체험 기간 만료 플로우**
     5. ✅ **구독 갱신 플로우**

5. **테스트 도구**
   - **결정**: A) App Store Connect의 샌드박스 테스터만 사용
   - **도구**: App Store Connect 샌드박스 테스터
   - **Android**: Google Play Console의 라이선스 테스트는 사용하지 않음

**테스트 체크리스트**:
- [ ] App Store Connect에서 샌드박스 테스트 계정 생성
- [ ] 샌드박스 테스트 계정으로 앱 로그인 테스트
- [ ] 테스트용 무료 체험 기간 설정 (5분)
- [ ] 결제 성공 플로우 테스트
- [ ] 결제 실패 플로우 테스트
- [ ] 구독 취소 플로우 테스트
- [ ] 무료 체험 기간 만료 플로우 테스트
- [ ] 구독 갱신 플로우 테스트
- [ ] 프로덕션 배포 전 실제 30일 무료 체험 기간으로 변경

---

## 📝 구현 결정사항 요약

### 확정된 사항
1. ✅ 무료 체험 기간: App Store/Play Store의 무료 체험 기능 사용 (30일)
2. ✅ 사용자 인증 연동: `useAuth()` 훅으로 직접 접근하여 `user.uid` 사용
3. ✅ 결제 플로우: 확인 다이얼로그 → 로딩 표시 → 성공/실패 처리
4. ✅ 에러 처리 및 사용자 피드백: 에러 유형별 처리 방식 결정
5. ✅ 구독 상태 확인: 서버 영수증 검증 API 사용, 포그라운드 전환 시 확인
6. ✅ 테스트 환경: App Store Connect 샌드박스 테스터 사용, 테스트용 짧은 기간 설정

---

## 💎 프리미엄 사용자 표시 (추가 질문)

### 현재 구현된 프리미엄 사용자 표시

1. **설정 화면** (`SettingsScreen.js`)
   - "러논 멤버스" 메뉴 항목에 Union.png 배지 아이콘 표시
   - 다이아몬드 아이콘과 함께 프리미엄 배지 표시

2. **프리미엄 화면** (`PremiumScreen.js`)
   - 프리미엄 화면 상단에 회전하는 프리미엄 배지 표시
   - Union.png 이미지 사용

3. **PremiumContext**
   - `isPremium` 상태로 프리미엄 여부 관리
   - 다른 화면에서 `usePremium()` 훅으로 접근 가능

### ✅ 추가 프리미엄 배지 표시 위치 결정

**프리미엄 배지 구성**:
- **이미지**: `Union.png` (커스텀 배지 이미지)
- **오버레이 아이콘**: 다이아몬드 아이콘 (`diamond-outline`, 흰색)
- **글로우 효과**: 핑크색 (`#FF0073`) 그림자 효과
- **크기**: 60x24 픽셀 (작은 배지용)

**표시 위치**:

1. **참여자 상세 화면** (`ParticipantScreen.js`)
   - **위치**: 레벨 배지 옆
   - **확인 방법**: `participant.id`로 프리미엄 여부 확인
   - **표시 조건**: 해당 사용자가 프리미엄 사용자인 경우

2. **게시글 상세 화면** (`PostDetailScreen.js`)
   - **위치**: 작성자 이름 옆
   - **확인 방법**: `currentPost.authorId`로 프리미엄 여부 확인
   - **표시 조건**: 작성자가 프리미엄 사용자인 경우 (익명 게시글 제외)

3. **모임 생성자 표시**
   - **일정 화면** (`ScheduleScreen.js`): 모임 카드에서 생성자 정보 옆
   - **모임 상세 화면** (`EventDetailScreen.js`): 모임 상세 정보에서 생성자 옆
   - **검색 화면** (`SearchScreen.js`): 검색 결과에서 모임 생성자 옆
   - **확인 방법**: `event.organizerId` 또는 `event.createdBy`로 프리미엄 여부 확인

**구현 방법**:
- 각 화면에서 사용자 ID를 통해 Firestore에서 `isPremium` 필드 확인
- 또는 `PremiumContext`를 통해 프리미엄 상태 확인 (현재 사용자만)
- 다른 사용자의 프리미엄 상태는 Firestore에서 직접 조회 필요

---

## 🔗 관련 파일

- `services/paymentService.js` - 결제 서비스 구현
- `screens/PremiumScreen.js` - 프리미엄 화면 UI
- `contexts/AuthContext.js` - 사용자 인증 컨텍스트
- `contexts/PremiumContext.js` - 프리미엄 상태 컨텍스트

---

**마지막 업데이트**: 2025년 12월 17일
**논의 진행률**: 6/6 완료 (모든 논의사항 결정 완료)

---

## 🔄 추가 논의사항

### ✅ 1. 샌드박스 테스트 계정 생성
**상태**: ✅ 완료 (App Store Connect에 추가됨)

**생성 방법 (단계별 안내)**:

1. **App Store Connect 접속**
   - https://appstoreconnect.apple.com 접속
   - Apple ID로 로그인

2. **샌드박스 테스터 메뉴로 이동**
   - 좌측 메뉴에서 "사용자 및 액세스" 클릭
   - 상단 탭에서 "샌드박스 테스터" 선택

3. **테스터 추가**
   - 우측 상단의 "+" 버튼 또는 "테스터 추가" 버튼 클릭
   - 다음 정보 입력:
     - **이메일 주소**: 테스트용 이메일 주소 입력 (새로 생성 필요)
     - **이름**: 테스터 이름 (예: "테스트 계정 1")
     - **성**: 테스터 성 (예: "러논")
   - "추가" 버튼 클릭

4. **테스터에게 이메일 발송**
   - App Store Connect에서 자동으로 이메일 발송
   - 테스터가 이메일을 받아야 함

5. **테스터가 이메일에서 계정 활성화**
   - 테스터가 받은 이메일의 링크 클릭
   - Apple ID로 로그인 (샌드박스 테스트용 Apple ID)
   - 약관 동의 및 계정 활성화

**주의사항**:
- 샌드박스 테스트 계정은 실제 Apple ID와 별도로 생성해야 함
- 테스트용 이메일 주소 사용 권장 (새로 생성 필요)
- 최대 2,000명까지 추가 가능
- 샌드박스 테스트 계정은 실제 결제가 발생하지 않음
- 샌드박스 환경에서만 사용 가능 (프로덕션 환경에서는 사용 불가)

**테스트용 이메일 주소 생성 방법**:
- Gmail, Outlook 등에서 새 계정 생성
- 또는 임시 이메일 서비스 사용 (테스트용)
- 예: `runon-test-1@gmail.com`, `runon-sandbox@outlook.com` 등

**다음 단계**:
- 샌드박스 테스트 계정 생성 완료 후
- 해당 계정으로 앱에 로그인하여 결제 테스트 진행

### ✅ 2. 테스트 환경 설정 세부사항
**결정**: 사용자 요구사항 반영

- **테스트용 무료 체험 기간**: 1분으로 설정
- **테스트 시나리오 우선순위**: 제안한 순서대로 진행
  - 1순위: 결제 성공 플로우
  - 2순위: 결제 실패 플로우
  - 3순위: 구독 취소 플로우
  - 4순위: 무료 체험 기간 만료 플로우
  - 5순위: 구독 갱신 플로우

### ✅ 3. 구현 우선순위
**결정**: 중요도 순서대로 진행

**구현 순서**:
1. 결제 플로우 구현 (확인 다이얼로그, 로딩, 성공/실패 처리)
2. 에러 처리 구현 (에러 유형별 메시지, 재시도 로직)
3. 구독 상태 확인 구현 (PremiumContext 연동, 포그라운드 전환 시 동기화)
4. 프리미엄 배지 표시 구현 (참여자 상세, 게시글 작성자)
5. 서버 영수증 검증 API 구현 (Firebase Cloud Functions)

### ✅ 4. 추가 고려사항
**결정**: 사용자 요구사항 반영

1. **결제 실패 시 재시도 로직**
   - **결정**: 3번만 재시도
   - **구현**: 
     - 재시도 카운터 추가
     - 3번 실패 시 에러 메시지 표시
     - 재시도 버튼은 네트워크 오류 시에만 표시

2. **구독 상태 동기화**
   - **의미**: 앱 실행 시와 포그라운드 전환 시 구독 상태를 서버에서 확인하여 Firestore와 동기화
   - **필요성**: 
     - 사용자가 다른 기기에서 구독 취소한 경우
     - 스토어에서 직접 구독 취소한 경우
     - 구독 만료된 경우
   - **구현**: 
     - 앱 실행 시: `PremiumContext.checkPremiumStatus()` 자동 호출 (이미 구현됨)
     - 포그라운드 전환 시: `AppState` API로 포그라운드 전환 감지 후 `checkPremiumStatus()` 호출
   - **결정**: 앱 실행 시와 포그라운드 전환 시 모두 확인

3. **다른 사용자의 프리미엄 상태 조회**
   - **결정**: Firestore의 `isPremium` 필드를 직접 사용 (별도 조회 불필요)
   - **방식**:
     - 프리미엄 구독 결제 완료 시: Firestore에 `isPremium: true` 저장
     - 프리미엄 구독 취소/만료 시: Firestore에 `isPremium: false` 업데이트
     - 프리미엄 배지 표시: Firestore의 `isPremium` 필드를 그대로 사용
   - **장점**:
     - 매번 조회할 필요 없음
     - 프로필 정보와 함께 자동으로 포함됨
     - 간단하고 효율적
   - **구현**:
     - `firestoreService.getUserProfile()`에서 이미 `isPremium` 필드 반환 (확인 필요)
     - 각 화면에서 프로필 정보 조회 시 `isPremium` 필드 함께 가져오기
   - **구독 취소/만료 감지**:
     - 앱 실행 시: `PremiumContext.checkPremiumStatus()`에서 확인 후 업데이트
     - 포그라운드 전환 시: `AppState` API로 감지 후 확인 및 업데이트
     - `expiresDate` 확인: 만료되었으면 `isPremium: false`로 업데이트

### ✅ 코드 확인 결과

**확인 완료 사항**:

1. **`getUserProfile` 함수 확인**
   - ✅ **결과**: 문제 없음
   - `...userData`로 모든 필드를 반환하므로 `isPremium` 필드도 포함됨
   - 별도 수정 없이 사용 가능

2. **구독 취소/만료 시점 감지 방법**
   - ✅ **현재 상태**: 부분적으로 구현됨
   - ✅ **확인된 사항**:
     - `updateUserSubscription()`: 구독 완료 시 `isPremium: true` 업데이트 (정상)
     - `hasPremiumAccess()`: 만료 확인 후 `setIsPremium(false)` 호출 (로컬 상태만 업데이트)
     - `checkUserSubscriptionStatus()`: Firestore만 확인, 서버/스토어 확인 없음
   - ⚠️ **수정 필요 사항**:
     - `checkUserSubscriptionStatus()` 함수 개선: 서버/스토어에서 구독 상태 확인 후 Firestore 업데이트
     - `hasPremiumAccess()` 함수 개선: Firestore에도 `isPremium: false` 업데이트
     - 포그라운드 전환 시 확인 로직 추가: `AppState` API 사용

3. **구독 취소/만료 업데이트 로직**
   - ✅ **현재 상태**: 부분적으로 구현됨
   - ✅ **확인된 사항**:
     - `updateUserSubscription()`: 구독 완료 시 Firestore 업데이트 (정상)
     - 만료/취소 시 Firestore 업데이트 로직 없음
   - ⚠️ **수정 필요 사항**:
     - `checkUserSubscriptionStatus()` 함수에 다음 로직 추가:
       1. 서버/스토어에서 구독 상태 확인
       2. `expiresDate` 확인하여 만료되었으면 `isPremium: false` 업데이트
       3. 구독이 취소되었으면 `isPremium: false` 업데이트
       4. 활성 상태면 `isPremium: true` 유지

**최종 결론**:
- ✅ 제안한 방식은 작동 가능함
- ⚠️ 다만 `checkUserSubscriptionStatus()` 함수에 서버 확인 및 Firestore 업데이트 로직 추가 필요
- ⚠️ 포그라운드 전환 시 확인 로직 추가 필요
- ✅ 이 수정사항들을 반영하면 정상 동작함

---

## 🚨 샌드박스 테스트 계정 로그인 문제

### 문제 상황
- **러논 앱 인증 방식**: 핸드폰 번호로 로그인 (Firebase Phone Auth)
- **샌드박스 테스트 계정**: 이메일 주소로만 등록 가능 (`p0107222@outlook.com`)
- **문제**: 샌드박스 테스트 계정에 핸드폰 번호를 부여할 수 없어 앱에 로그인 불가

### 해결 방안 옵션

#### 옵션 1: Firebase Console에서 테스트용 사용자 수동 생성 (권장)
**방법**:
1. Firebase Console → Authentication → Users로 이동
2. "사용자 추가" 클릭
3. 다음 정보 입력:
   - **UID**: 임의로 생성 (예: `sandbox-test-user-001`)
   - **이메일**: 샌드박스 테스트 계정 이메일 (`p0107222@outlook.com`)
   - **전화번호**: 테스트용 핸드폰 번호 (예: `010-9999-9999`)
   - **이메일 인증**: 비활성화 (테스트용이므로)
   - **전화번호 인증**: 비활성화 (테스트용이므로)
4. Firestore에서 해당 UID로 사용자 문서 생성:
   ```javascript
   {
     uid: 'sandbox-test-user-001',
     phoneNumber: '010-9999-9999',
     displayName: '샌드박스 테스트',
     email: 'p0107222@outlook.com',
     isPremium: false,
     // ... 기타 필드
   }
   ```

**장점**:
- 실제 SMS 인증 없이 테스트 가능
- 샌드박스 테스트 계정과 연결 가능
- 빠르게 테스트 시작 가능

**단점**:
- Firebase Console에서 수동 작업 필요
- 실제 인증 플로우와 다름 (SMS 인증 없음)

**구현 방법**:
- 앱에서 특정 핸드폰 번호(예: `010-9999-9999`)로 로그인 시도 시
- Firebase Console에서 생성한 테스트 사용자로 자동 로그인
- 또는 데모 모드처럼 특정 번호로 테스트 사용자 로그인

---

#### 옵션 2: 데모 모드 확장 (현재 구조 활용)
**방법**:
- 현재 `010-0000-0000`으로 데모 로그인이 가능
- 샌드박스 테스트용으로 `010-9999-9999` 번호 추가
- 이 번호로 로그인하면 샌드박스 테스트 계정으로 인식

**구현**:
```javascript
// LoginScreen.js 또는 AuthContext.js
if (phoneNumber === '010-9999-9999') {
  // 샌드박스 테스트 계정으로 로그인
  await loginAsSandboxTest();
}
```

**장점**:
- 기존 데모 모드 구조 재사용
- 빠른 구현 가능
- 테스트 전용 번호로 명확히 구분

**단점**:
- 실제 인증 플로우와 다름
- Firebase Auth와 별도로 관리 필요

---

#### 옵션 3: 실제 테스트 전화번호 사용
**방법**:
- 실제 사용 가능한 테스트 전화번호 확보
- 해당 번호로 Firebase Phone Auth 인증 진행
- 샌드박스 테스트 계정과 별도로 관리

**장점**:
- 실제 인증 플로우와 동일
- 실제 사용자 경험과 유사

**단점**:
- 실제 SMS 수신 필요
- 테스트 전화번호 확보 필요
- 비용 발생 가능

---

#### 옵션 4: Firebase Auth Emulator 사용 (개발 환경)
**방법**:
- Firebase Local Emulator Suite 사용
- 로컬에서 인증 테스트
- 실제 SMS 없이 테스트 가능

**장점**:
- 실제 인증 플로우와 유사
- SMS 비용 없음
- 빠른 테스트 가능

**단점**:
- 개발 환경에서만 사용 가능
- 실제 디바이스 테스트와 다를 수 있음

---

### 권장 해결 방안

**옵션 1 (Firebase Console 수동 생성) + 옵션 2 (데모 모드 확장) 조합**

**구현 계획**:
1. Firebase Console에서 샌드박스 테스트용 사용자 생성
   - UID: `sandbox-test-user-001`
   - 전화번호: `010-9999-9999`
   - 이메일: `p0107222@outlook.com`
2. Firestore에 테스트 사용자 문서 생성
3. 앱에서 `010-9999-9999` 번호로 로그인 시 샌드박스 테스트 사용자로 자동 로그인
4. 샌드박스 테스트 계정으로 결제 테스트 진행

**다음 단계**:
- 사용자와 논의하여 최종 방안 결정
- 선택한 방안으로 구현 진행


# ì¹´ì¹´ì˜¤ë§µ Android ì„¤ì • ê°€ì´ë“œ

## ğŸ“‹ ê°œìš”
Androidì—ì„œ ì¹´ì¹´ì˜¤ë§µì´ í‘œì‹œë˜ì§€ ì•ŠëŠ” ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•œ ì„¤ì • ê°€ì´ë“œì…ë‹ˆë‹¤.

---

## âœ… 1. Android Studio ì„¤ì • (ì™„ë£Œ)

### 1.1 AndroidManifest.xml ì„¤ì •
- âœ… `INTERNET` ê¶Œí•œ ì¶”ê°€ ì™„ë£Œ
- âœ… `usesCleartextTraffic="true"` ì¶”ê°€ ì™„ë£Œ (WebViewë¥¼ ìœ„í•œ ì„¤ì •)

### 1.2 WebView ì„¤ì •
- âœ… `components/HanRiverMap.js`ì— WebView ì†ì„± ì¶”ê°€:
  - `allowsInlineMediaPlayback={true}`
  - `mediaPlaybackRequiresUserAction={false}`
  - `mixedContentMode="always"`

---

## ğŸ”‘ 2. ì¹´ì¹´ì˜¤ ê°œë°œì ì½˜ì†” ì„¤ì • (í•„ìˆ˜)

### 2.1 Android í”Œë«í¼ ë“±ë¡

ì¹´ì¹´ì˜¤ ê°œë°œì ì½˜ì†”(https://developers.kakao.com)ì— ë¡œê·¸ì¸ í›„:

1. **ë‚´ ì• í”Œë¦¬ì¼€ì´ì…˜** ì„ íƒ
2. **ì•± ì„¤ì •** > **í”Œë«í¼** ë©”ë‰´
3. **Android í”Œë«í¼ ë“±ë¡** í´ë¦­

### 2.2 ì…ë ¥í•´ì•¼ í•  ì •ë³´

#### íŒ¨í‚¤ì§€ëª… (í•„ìˆ˜)
```
com.runon.app
```
- `app.json`ì˜ `android.package` ê°’ê³¼ ë™ì¼
- `android/app/build.gradle`ì˜ `applicationId` ê°’ê³¼ ë™ì¼

#### ë§ˆì¼“ URL
- **êµ¬ê¸€ í”Œë ˆì´** ì„ íƒ
- URLì€ ì„ íƒ ì‚¬í•­ (ë‚˜ì¤‘ì— ì¶”ê°€ ê°€ëŠ¥)

#### í‚¤ í•´ì‹œ (í•„ìˆ˜)

**âš ï¸ ì¤‘ìš”**: Google Play App Signingì„ ì‚¬ìš©í•˜ëŠ” ê²½ìš°, **ì•± ì„œëª… í‚¤ SHA-1**ì„ ë°˜ë“œì‹œ ë“±ë¡í•´ì•¼ í•©ë‹ˆë‹¤!

ë‹¤ìŒ ì„¸ ê°œì˜ í‚¤ í•´ì‹œë¥¼ ê°ê° í•œ ì¤„ì”© ì…ë ¥í•˜ì„¸ìš”:

**1. ë””ë²„ê·¸ í‚¤ í•´ì‹œ** (ê°œë°œ/í…ŒìŠ¤íŠ¸ìš©):
```
0D:62:B3:93:3A:47:D8:DC:A2:EA:8F:99:F7:7B:42:BC:33:EF:DE:4B
```

**2. ì—…ë¡œë“œ í‚¤ í•´ì‹œ** (AAB ì—…ë¡œë“œìš©):
```
02:48:73:8E:D2:E3:5E:BD:06:69:FB:9C:6E:4D:90:30:4C:F4:13:B8
```

**3. ì•± ì„œëª… í‚¤ í•´ì‹œ** (êµ¬ê¸€ í”Œë ˆì´ ìŠ¤í† ì–´ ë°°í¬ìš©) â­ **ê°€ì¥ ì¤‘ìš”**:
```
45:0A:1A:A7:9B:C8:C8:4E:15:AE:C1:68:0A:FB:2C:D4:A0:9C:BB:C2
```

> **í•µì‹¬**: 
> - ì—ë®¬ë ˆì´í„°/ë””ë²„ê·¸ ë¹Œë“œì—ì„œëŠ” ë””ë²„ê·¸ í‚¤ í•´ì‹œê°€ ì‚¬ìš©ë©ë‹ˆë‹¤.
> - **êµ¬ê¸€ í”Œë ˆì´ ìŠ¤í† ì–´ë¥¼ í†µí•´ ì„¤ì¹˜í•œ ì•±ì€ ì•± ì„œëª… í‚¤ë¡œ ì„œëª…ë˜ë¯€ë¡œ, ì•± ì„œëª… í‚¤ SHA-1 (`45:0A:1A:A7:9B:C8:C8:4E:15:AE:C1:68:0A:FB:2C:D4:A0:9C:BB:C2`)ì„ ë°˜ë“œì‹œ ë“±ë¡í•´ì•¼ í•©ë‹ˆë‹¤!**
> - ì´ê²ƒì´ êµ¬ê¸€ í”Œë ˆì´ ìŠ¤í† ì–´ ì•±ì—ì„œ ì¹´ì¹´ì˜¤ë§µì´ í‘œì‹œë˜ì§€ ì•ŠëŠ” ì£¼ìš” ì›ì¸ì…ë‹ˆë‹¤.

> **ì°¸ê³ **: ì¹´ì¹´ì˜¤ ê°œë°œì ì½˜ì†”ì—ëŠ” ì½œë¡ (:) ì—†ì´ ì…ë ¥í•˜ê±°ë‚˜, ì½œë¡  í¬í•¨í•˜ì—¬ ì…ë ¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
> - ì½œë¡  í¬í•¨: `45:0A:1A:A7:9B:C8:C8:4E:15:AE:C1:68:0A:FB:2C:D4:A0:9C:BB:C2`
> - ì½œë¡  ì œê±°: `450A1AA79BC8C84E15AEC1680AFB2CD4A09CBBC2`

**ì—¬ëŸ¬ ê°œì˜ í‚¤ í•´ì‹œ ë“±ë¡ ë°©ë²•:**
- ê° í‚¤ í•´ì‹œë¥¼ í•œ ì¤„ì”© ì…ë ¥ (ì¤„ë°”ê¿ˆìœ¼ë¡œ êµ¬ë¶„)
- ë˜ëŠ” ì½¤ë§ˆë¡œ êµ¬ë¶„í•˜ì—¬ ì…ë ¥

---

## ğŸ” 3. ì¶”ê°€ í™•ì¸ ì‚¬í•­

### 3.1 ì¹´ì¹´ì˜¤ë§µ API í‚¤ í™•ì¸
- í˜„ì¬ API í‚¤: `464318d78ffeb1e52a1185498fe1af08`
- ìœ„ì¹˜: `app.json` > `extra.kakaoMapApiKey`
- ì¹´ì¹´ì˜¤ ê°œë°œì ì½˜ì†”ì—ì„œ **JavaScript í‚¤**ë¥¼ ì‚¬ìš©í•´ì•¼ í•¨

### 3.2 ë„ë©”ì¸ ë“±ë¡ í™•ì¸
ì¹´ì¹´ì˜¤ ê°œë°œì ì½˜ì†”ì—ì„œ:
1. **ì•± ì„¤ì •** > **í”Œë«í¼** > **Web í”Œë«í¼**
2. **ì‚¬ì´íŠ¸ ë„ë©”ì¸**ì— ë‹¤ìŒ ì¶”ê°€:
   - `localhost` (ê°œë°œìš©)
   - ì‹¤ì œ ë„ë©”ì¸ì´ ìˆë‹¤ë©´ ì¶”ê°€

> **ì°¸ê³ **: Android WebViewëŠ” `file://` í”„ë¡œí† ì½œì„ ì‚¬ìš©í•˜ë¯€ë¡œ, Web í”Œë«í¼ ì„¤ì •ì´ í•„ìš”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### 3.3 Android ë„¤ì´í‹°ë¸Œ ì„¤ì • í™•ì¸

#### MainActivity.ktì— WebView ì„¤ì • ì¶”ê°€ (í•„ìš”ì‹œ)
í˜„ì¬ëŠ” ê¸°ë³¸ ì„¤ì •ìœ¼ë¡œ ì‘ë™í•˜ì§€ë§Œ, ë¬¸ì œê°€ ì§€ì†ë˜ë©´ ë‹¤ìŒì„ ì¶”ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```kotlin
import android.webkit.WebView

// MainActivity.ktì˜ onCreateì— ì¶”ê°€
if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.KITKAT) {
    WebView.setWebContentsDebuggingEnabled(true)
}
```

---

## ğŸ§ª 4. í…ŒìŠ¤íŠ¸ ë°©ë²•

### 4.1 ë””ë²„ê·¸ ë¹Œë“œ í…ŒìŠ¤íŠ¸
1. ë””ë²„ê·¸ í‚¤ í•´ì‹œê°€ ë“±ë¡ë˜ì—ˆëŠ”ì§€ í™•ì¸
2. ë””ë²„ê·¸ ë¹Œë“œë¡œ ì•± ì‹¤í–‰
3. ì¹´ì¹´ì˜¤ë§µì´ í‘œì‹œë˜ëŠ”ì§€ í™•ì¸

### 4.2 ë¦´ë¦¬ì¦ˆ ë¹Œë“œ í…ŒìŠ¤íŠ¸
1. ë¦´ë¦¬ì¦ˆ í‚¤ í•´ì‹œê°€ ë“±ë¡ë˜ì—ˆëŠ”ì§€ í™•ì¸
2. ë¦´ë¦¬ì¦ˆ ë¹Œë“œë¡œ ì•± ì‹¤í–‰
3. ì¹´ì¹´ì˜¤ë§µì´ í‘œì‹œë˜ëŠ”ì§€ í™•ì¸

---

## âš ï¸ 5. ë¬¸ì œ í•´ê²°

### 5.1 ì¹´ì¹´ì˜¤ë§µì´ ì—¬ì „íˆ í‘œì‹œë˜ì§€ ì•ŠëŠ” ê²½ìš°

1. **í‚¤ í•´ì‹œ ì¬í™•ì¸**
   ```bash
   # ë””ë²„ê·¸ í‚¤ í•´ì‹œ í™•ì¸
   keytool -list -v -keystore android/app/debug.keystore -alias androiddebugkey -storepass android -keypass android | grep SHA1
   
   # ë¦´ë¦¬ì¦ˆ í‚¤ í•´ì‹œ í™•ì¸
   keytool -list -v -keystore android/app/upload-keystore.jks -alias upload -storepass runon2024! -keypass runon2024! | grep SHA1
   ```

2. **ì¹´ì¹´ì˜¤ ê°œë°œì ì½˜ì†” í™•ì¸**
   - Android í”Œë«í¼ì´ ë“±ë¡ë˜ì—ˆëŠ”ì§€ í™•ì¸
   - í‚¤ í•´ì‹œê°€ ì •í™•íˆ ì…ë ¥ë˜ì—ˆëŠ”ì§€ í™•ì¸
   - ì €ì¥ ë²„íŠ¼ì„ ëˆŒë €ëŠ”ì§€ í™•ì¸

3. **ì•± ì¬ì‹œì‘**
   - ì¹´ì¹´ì˜¤ ê°œë°œì ì½˜ì†” ì„¤ì • ë³€ê²½ í›„ ì•±ì„ ì™„ì „íˆ ì¢…ë£Œí•˜ê³  ì¬ì‹œì‘

4. **ë¡œê·¸ í™•ì¸**
   - Android Studio Logcatì—ì„œ "kakaoMapError" ê²€ìƒ‰
   - WebView ë¡œë“œ ì˜¤ë¥˜ í™•ì¸

### 5.2 WebView ì˜¤ë¥˜ í™•ì¸

Android Studio Logcatì—ì„œ ë‹¤ìŒ í‚¤ì›Œë“œë¡œ ê²€ìƒ‰:
- `WebView`
- `kakaoMapError`
- `ERR_`
- `Mixed Content`

---

## ğŸ“ 6. ì²´í¬ë¦¬ìŠ¤íŠ¸

- [ ] AndroidManifest.xmlì— `usesCleartextTraffic="true"` ì¶”ê°€ ì™„ë£Œ
- [ ] WebViewì— `mixedContentMode="always"` ì¶”ê°€ ì™„ë£Œ
- [ ] ì¹´ì¹´ì˜¤ ê°œë°œì ì½˜ì†”ì— Android í”Œë«í¼ ë“±ë¡
- [ ] íŒ¨í‚¤ì§€ëª… `com.runon.app` ì…ë ¥
- [ ] ë””ë²„ê·¸ í‚¤ í•´ì‹œ ë“±ë¡
- [ ] ë¦´ë¦¬ì¦ˆ í‚¤ í•´ì‹œ ë“±ë¡
- [ ] ì¹´ì¹´ì˜¤ë§µ API í‚¤ í™•ì¸ (JavaScript í‚¤ ì‚¬ìš©)
- [ ] ì•± ì¬ì‹œì‘ í›„ í…ŒìŠ¤íŠ¸

---

## ğŸ“š ì°¸ê³  ìë£Œ

- [ì¹´ì¹´ì˜¤ ê°œë°œì ì½˜ì†”](https://developers.kakao.com)
- [ì¹´ì¹´ì˜¤ë§µ API ê°€ì´ë“œ](https://apis.map.kakao.com/)
- [Android WebView ë¬¸ì„œ](https://developer.android.com/reference/android/webkit/WebView)

---

**ì‘ì„±ì¼**: 2025-01-XX
**ìµœì¢… ì—…ë°ì´íŠ¸**: 2025-01-XX

